!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.PrimitiveTypeChecker={})}(this,function(e){"use strict";function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function r(e,t){return e(t={exports:{}},t.exports),t.exports}var o=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=(e,t,r,o)=>`${e}Error on "${t}" instead of "${r}" received "${o}"`;t.ConsoleErrorReporter=((e,t,o,s)=>console.error(r(e,t,o,s))),t.ConsoleWarnReporter=((e,t,o,s)=>console.warn(r(e,t,o,s))),t.ThrowErrorReporter=((e,t,o,s)=>{throw new Error(r(e,t,o,s))})});t(o);var s=o.ConsoleErrorReporter;o.ConsoleWarnReporter,o.ThrowErrorReporter;let n=s;const a=()=>n,c="(Merge)",i="(GetProperty)",l="(SetProperty)",u="(Arguments)",h="(ReturnValue)",p=(e,t,r,o,s)=>{if(!s)return!0;const{lastName:n}=o,c=t.has(n)&&!t.hasValue(n,s);if(c){a()(e,o.toString(),t.list(n).join(", "),s)}return t.addFor(n,s,r),!c},g=e=>{if(void 0===e)return"";const t=typeof e;return"object"===t&&e instanceof Array?"array":t};var f=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=(e=>(t,r)=>Boolean(t&&e.call(t,r)))(Object.prototype.hasOwnProperty);t.hasOwn=r,t.default=r});t(f);f.hasOwn;var d=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(){this.storage=new Map}has(e){const t=this.storage.get(e);return t&&t.size}hasValue(e,t){const r=this.storage.get(e);return r&&r.has(t)}get(e){return this.storage.get(e)}list(e){const t=this.storage.get(e);return t?Array.from(t):[]}forEach(e){this.storage.forEach((t,r)=>t.forEach(t=>e(t,r,this)))}eachValue(e,t){const r=this.storage.get(e);r&&r.forEach(r=>t(r,e,this))}add(e,t){if(!t)return;const r=this.storage.get(e);r?r.add(t):this.storage.set(e,new Set([t]))}set(e,t){t&&0!==t.size?this.storage.set(e,new Set(t)):this.remove(e)}remove(e){this.storage.delete(e)}removeValue(e,t){const r=this.storage.get(e);r&&(r.delete(t),r.size||this.remove(e))}clone(){const e=new r;return this.storage.forEach((t,r)=>e.set(r,new Set(t))),e}}t.MapOfSets=r,t.createMapOfSets=(()=>new r),t.default=r});t(d);d.MapOfSets,d.createMapOfSets;var y=r(function(e,t){function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var o=r(f),s=r(d);const n="never",a="once",c="all",i=Symbol("type-checkers:report-level"),l=Symbol("type-checkers:property-report-level");let u=c;const h=e=>{switch(e){case n:case a:return e;default:return c}},p=()=>u,g=(e,t)=>o(e[l],t)?e[l][t]:e[i],y=(e,t)=>{let r=g(e,t);return r||(r=g(e.constructor,t)),r||p()},E=(e,t,r)=>(r.forEach(e=>{t.has(e)||t.add(e)}),t);class R extends s{add(e,t,r){if(t)switch(r){case n:this.remove(e);break;case a:super.add(e,t);break;case c:default:{const r=this.storage.get(e);r&&r.size||this.storage.set(e,new Set([t]))}}}addFor(e,t,r){this.add(e,t,y(r,e))}set(e,t,r){t&&0!==t.size&&r!==n?super.set(e,t):this.remove(e)}setFor(e,t,r){return this.set(e,t,y(r,e))}clone(){const e=new R;return this.storage.forEach((t,r)=>e.set(r,new Set(t))),e}copyTo(e,t,r=E){return this.storage.forEach((o,s)=>{const n=h(t&&y(t,s));switch(n){case c:case a:e.has(s)?e.set(s,r(s,e.get(s),o,n),n):e.set(s,new Set(o))}}),e}}t.REPORT_ALL=c,t.REPORT_NEVER=n,t.REPORT_ONCE=a,t.createTypesStorage=(()=>new R),t.defaultMergeStrategy=E,t.getGlobalReportingLevel=p,t.setGlobalReportingLevel=(e=>{u=h(e)}),t.getReportingLevel=y,t.setReportingLevel=((e,t,r)=>{((e,t)=>{t?e[i]=h(t):delete e[i]})(e,t),((e,t)=>{t?e[l]=Object.keys(t).reduce((e,r)=>(e[r]=h(t[r]),e),{}):delete e[l]})(e,r)})});t(y);y.REPORT_ALL,y.REPORT_NEVER,y.REPORT_ONCE;var E=y.createTypesStorage;y.defaultMergeStrategy,y.getGlobalReportingLevel,y.setGlobalReportingLevel,y.getReportingLevel,y.setReportingLevel;class R{constructor(e=!0,t=!0){this.collectTypesOnInit=e,this.enableGetChecker=t}init(e,t=null){let r;return t?r=t:this.collectTypesOnInit&&(r=E(),Object.keys(e).forEach(t=>r.addFor(t,this.getTypeValue(e[t]),e))),r}getTypeValue(e){return g(e)}checkType(e,t,r,o,s){return p(e,t,r,o,s)}mergeConfigs(e,t,r){const o=a();t.copyTo(e,null,(e,t,s)=>{const n=t.values().next().value;return s.forEach(e=>{t.has(e)||(t.add(e),n&&o(c,r,n,e))}),t})}getProperty(e,t,r,o){if(!this.enableGetChecker)return!0;const s=this.getTypeValue(r);return this.checkType(i,o,e,t,s)}setProperty(e,t,r,o){const s=this.getTypeValue(r);return this.checkType(l,o,e,t,s)}arguments(e,t,r,o){const{length:s}=r;let n=!0;for(let a=0;a<s;a++){const s=this.getTypeValue(r[a]);n=this.checkType(u,o,e,t.clone(a),s)&&n}return n}returnValue(e,t,r,o){const s=this.getTypeValue(r),n=t.clone();return n.appendCustomValue(h),this.checkType(h,o,e,n,s)}}e.MERGE=c,e.ARGUMENTS=u,e.GET_PROPERTY=i,e.RETURN_VALUE=h,e.SET_PROPERTY=l,e.checkPrimitiveType=p,e.getTypeValue=g,e.PrimitiveTypeChecker=R,e.createPrimitiveTypeChecker=((e=!0,t=!0)=>new R(e,t)),e.getErrorReporter=a,e.setErrorReporter=(e=>{n=e}),Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=primitive-type-checker.min.js.map
