!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.PrimitiveTypeChecker={})}(this,function(e){"use strict";function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function r(e,t){return e(t={exports:{}},t.exports),t.exports}var o=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=(e,t,r,o)=>`${e}Error on "${t}" instead of "${r}" received "${o}"`;t.ConsoleErrorReporter=((e,t,o,s)=>console.error(r(e,t,o,s))),t.ConsoleWarnReporter=((e,t,o,s)=>console.warn(r(e,t,o,s))),t.ThrowErrorReporter=((e,t,o,s)=>{throw new Error(r(e,t,o,s))})});t(o);var s=o.ConsoleErrorReporter;o.ConsoleWarnReporter,o.ThrowErrorReporter;let n=s;const a=()=>n,c="(Merge)",l="(GetProperty)",i="(SetProperty)",u="(Arguments)",p="(ReturnValue)",h=(e,t,r,o,s)=>{if(!s)return!0;const{lastName:n}=o,c=t.hasType(n);if(c){if(c!==s){return a()(e,o.toString(),c,s),!1}}else t.addFor(n,s,r);return!0};var g=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=(e=>(t,r)=>Boolean(t&&e.call(t,r)))(Object.prototype.hasOwnProperty);t.hasOwn=r,t.default=r});t(g);g.hasOwn;var d=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r,o=(r=g)&&"object"==typeof r&&"default"in r?r.default:r;const s="never",n="once",a="all",c=Symbol("type-checkers:report-level"),l=Symbol("type-checkers:property-report-level");let i=a;const u=e=>{switch(e){case s:case n:return e;default:return a}},p=()=>i,h=(e,t)=>o(e[l],t)?e[l][t]:e[c],d=(e,t)=>{let r=h(e,t);return r||(r=h(e.constructor,t)),r||p()},y=(e,t,r)=>r&&t?(r.forEach(e=>{t.has(e)||t.add(e)}),t):r||t;class f{constructor(){this.storage=new Map}has(e){const t=this.storage.get(e);return t&&t.size}hasType(e,t){const r=this.storage.get(e);return r&&r.has(t)}get(e,t){const r=this.storage.get(e);r&&r.forEach(r=>t(e,r))}add(e,t,r){if(t)switch(r){case s:this.storage.delete(e);break;case n:{const r=this.storage.get(e);r?r.has(t)||r.add(t):this.storage.set(e,new Set([t]))}break;case a:default:{const r=this.storage.get(e);r&&r.size||this.storage.set(e,new Set([t]))}}}addFor(e,t,r){this.add(e,t,d(r,e))}set(e,t,r){t&&0!==t.size&&r!==s?this.storage.set(e,t):this.storage.delete(e)}setFor(e,t,r){return this.set(e,t,d(r,e))}clone(){const e=new f;return this.storage.forEach((t,r)=>e.set(r,new Set(t))),e}copyTo(e,t,r=y){return this.storage.forEach((o,s)=>{const c=u(t&&d(t,s));switch(c){case a:case n:e.has(s)?e.set(s,r(s,e.get(s),o,c),c):e.set(s,new Set(o))}}),e}}t.REPORT_ALL=a,t.REPORT_NEVER=s,t.REPORT_ONCE=n,t.createTypesStorage=(()=>new f),t.getGlobalReportingLevel=p,t.setGlobalReportingLevel=(e=>{i=u(e)}),t.getReportingLevel=d,t.setReportingLevel=((e,t,r)=>{((e,t)=>{t?e[c]=u(t):delete e[c]})(e,t),((e,t)=>{t?e[l]=Object.keys(t).reduce((e,r)=>(e[r]=u(t[r]),e),{}):delete e[l]})(e,r)})});t(d);d.REPORT_ALL,d.REPORT_NEVER,d.REPORT_ONCE;var y=d.createTypesStorage;d.getGlobalReportingLevel,d.setGlobalReportingLevel,d.getReportingLevel,d.setReportingLevel;class f{constructor(e=!0){this.collectTypesOnInit=e}init(e,t=null){let r;return t?r=t:this.collectTypesOnInit&&(r=y(),Object.keys(e).forEach(t=>r.addFor(t,this.getTypeValue(e[t]),e))),r}getTypeValue(e){if(void 0===e)return"";const t=typeof e;return"object"===t&&e instanceof Array?"array":t}mergeConfigs(e,t,r){const o=a();t.copyTo(e,null,(e,t,s)=>{const n=t.values().next().value;return s.forEach(e=>{t.has(e)||(t.add(e),n&&o(c,r,n,e))}),t})}getProperty(e,t,r,o){const s=this.getTypeValue(r);return h(l,o,e,t,s)}setProperty(e,t,r,o){const s=this.getTypeValue(r);return h(i,o,e,t,s)}arguments(e,t,r,o){const{length:s}=r;let n=!0;for(let a=0;a<s;a++){const s=this.getTypeValue(r[a]);n=h(u,o,e,t.clone(a),s)&&n}return n}returnValue(e,t,r,o){const s=this.getTypeValue(r),n=o.clone();return n.appendCustomValue(p),h(p,o,e,n,s)}}e.MERGE=c,e.ARGUMENTS=u,e.GET_PROPERTY=l,e.RETURN_VALUE=p,e.SET_PROPERTY=i,e.checkPrimitiveType=h,e.PrimitiveTypeChecker=f,e.createPrimitiveTypeChecker=(e=>new f(e)),e.getErrorReporter=a,e.setErrorReporter=(e=>{n=e}),Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=primitive-type-checker.min.js.map
