!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.PrimitiveTypeChecker={})}(this,function(e){"use strict";function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function r(e,t){return e(t={exports:{}},t.exports),t.exports}var o=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=(e=>(t,r)=>Boolean(t&&e.call(t,r)))(Object.prototype.hasOwnProperty);t.hasOwn=r,t.default=r});t(o);o.hasOwn;var s=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(){this.storage=new Map}has(e){const t=this.storage.get(e);return t&&t.size}hasValue(e,t){const r=this.storage.get(e);return r&&r.has(t)}get(e){return this.storage.get(e)}list(e){const t=this.storage.get(e);return t?Array.from(t):[]}forEach(e){this.storage.forEach((t,r)=>t.forEach(t=>e(t,r,this)))}eachValue(e,t){const r=this.storage.get(e);r&&r.forEach(r=>t(r,e,this))}add(e,t){if(!t)return;const r=this.storage.get(e);r?r.add(t):this.storage.set(e,new Set([t]))}set(e,t){t&&0!==t.size?this.storage.set(e,new Set(t)):this.remove(e)}remove(e){this.storage.delete(e)}removeValue(e,t){const r=this.storage.get(e);r&&(r.delete(t),r.size||this.remove(e))}clone(){const e=new r;return this.storage.forEach((t,r)=>e.set(r,new Set(t))),e}}t.MapOfSets=r,t.createMapOfSets=(()=>new r),t.default=r});t(s);s.MapOfSets,s.createMapOfSets;var n=r(function(e,t){function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var n=r(o),a=r(s);const c="never",l="once",i="all",u=Symbol("type-checkers:report-level"),p=Symbol("type-checkers:property-report-level");let h=i;const g=e=>{switch(e){case c:case l:return e;default:return i}},f=()=>h,d=(e,t)=>n(e[p],t)?e[p][t]:e[u],y=(e,t)=>{let r=d(e,t);return r||(r=d(e.constructor,t)),r||f()},R=(e,t,r)=>(r.forEach(e=>{t.has(e)||t.add(e)}),t);class E extends a{add(e,t,r){if(t)switch(r){case c:this.remove(e);break;case l:super.add(e,t);break;case i:default:{const r=this.storage.get(e);r&&r.size||this.storage.set(e,new Set([t]))}}}addFor(e,t,r){this.add(e,t,y(r,e))}set(e,t,r){t&&0!==t.size&&r!==c?super.set(e,t):this.remove(e)}setFor(e,t,r){return this.set(e,t,y(r,e))}clone(){const e=new E;return this.storage.forEach((t,r)=>e.set(r,new Set(t))),e}copyTo(e,t,r=R){return this.storage.forEach((o,s)=>{const n=g(t&&y(t,s));switch(n){case i:case l:e.has(s)?e.set(s,r(s,e.get(s),o,n),n):e.set(s,new Set(o))}}),e}}t.REPORT_ALL=i,t.REPORT_NEVER=c,t.REPORT_ONCE=l,t.createTypesStorage=(()=>new E),t.defaultMergeStrategy=R,t.getGlobalReportingLevel=f,t.setGlobalReportingLevel=(e=>{h=g(e)}),t.getReportingLevel=y,t.setReportingLevel=((e,t,r)=>{((e,t)=>{t?e[u]=g(t):delete e[u]})(e,t),((e,t)=>{t?e[p]=Object.keys(t).reduce((e,r)=>(e[r]=g(t[r]),e),{}):delete e[p]})(e,r)})});t(n);var a=n.REPORT_ALL,c=n.REPORT_NEVER,l=n.REPORT_ONCE,i=n.createTypesStorage,u=(n.defaultMergeStrategy,n.getGlobalReportingLevel),p=n.setGlobalReportingLevel,h=n.getReportingLevel,g=n.setReportingLevel,f=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r=(e,t,r,o)=>`${e}Error on "${t}" instead of "${r}" received "${o}"`;t.ConsoleErrorReporter=((e,t,o,s)=>console.error(r(e,t,o,s))),t.ConsoleWarnReporter=((e,t,o,s)=>console.warn(r(e,t,o,s))),t.ThrowErrorReporter=((e,t,o,s)=>{throw new Error(r(e,t,o,s))})});t(f);var d=f.ConsoleErrorReporter;f.ConsoleWarnReporter,f.ThrowErrorReporter;let y=d;const R=()=>y,E="(Merge)",v="(GetProperty)",T="(SetProperty)",O="(Arguments)",P="(ReturnValue)",b=(e,t,r,o,s)=>{if(!s)return!0;const{lastName:n}=o,a=t.has(n)&&!t.hasValue(n,s);if(a){R()(e,o.toString(),t.list(n).join(", "),s)}return t.addFor(n,s,r),!a},w=e=>{if(void 0===e)return"";const t=typeof e;return"object"===t&&e instanceof Array?"array":t};class _{constructor(e=!0,t=!0){this.collectTypesOnInit=e,this.enableGetChecker=t}init(e,t=null){let r;return t?r=t:this.collectTypesOnInit&&(r=i(),Object.keys(e).forEach(t=>r.addFor(t,this.getTypeValue(e[t]),e))),r}getTypeValue(e){return w(e)}checkType(e,t,r,o,s){return b(e,t,r,o,s)}mergeConfigs(e,t,r){const o=R();t.copyTo(e,null,(e,t,s)=>{const n=t.values().next().value;return s.forEach(e=>{t.has(e)||(t.add(e),n&&o(E,r,n,e))}),t})}getProperty(e,t,r,o){if(!this.enableGetChecker)return!0;const s=this.getTypeValue(r);return this.checkType(v,o,e,t,s)}setProperty(e,t,r,o){const s=this.getTypeValue(r);return this.checkType(T,o,e,t,s)}arguments(e,t,r,o){const{length:s}=r;let n=!0;for(let a=0;a<s;a++){const s=this.getTypeValue(r[a]);n=this.checkType(O,o,e,t.clone(a),s)&&n}return n}returnValue(e,t,r,o){const s=this.getTypeValue(r),n=t.clone();return n.appendCustomValue(P),this.checkType(P,o,e,n,s)}}e.MERGE=E,e.ARGUMENTS=O,e.GET_PROPERTY=v,e.RETURN_VALUE=P,e.SET_PROPERTY=T,e.checkPrimitiveType=b,e.getTypeValue=w,e.PrimitiveTypeChecker=_,e.createPrimitiveTypeChecker=((e=!0,t=!0)=>new _(e,t)),e.getErrorReporter=R,e.setErrorReporter=(e=>{y=e}),e.REPORT_ALL=a,e.REPORT_NEVER=c,e.REPORT_ONCE=l,e.getGlobalReportingLevel=u,e.setGlobalReportingLevel=p,e.getReportingLevel=h,e.setReportingLevel=g,e.default=_,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=primitive-type-checker.min.js.map
